//implementing arctan type distortion, simulating effect when amp is overdriven
`timescale 1ns / 1ps


module distortion(
    input signed [15:0] din, // range: (32767,-32768) 2^16
    input clk,
    input rst,    
    
    output reg signed [15:0] dout
    );
    
    reg signed [15:0] temp; //temp val for case statement processing
    reg signed [15:0] temp2; //temp val for sign stuff
    reg signed [15:0] temp3; //temp val for after case, pre output
    reg signed [15:0] post_case; //val for after case
    reg signed [9:0] left; //left 9 MSB
    reg signed [9:0] right; //next val after left
    reg signed [5:0] alpha; //reg for interval with bins

    reg sign; //sign reg
    
    always @(*)
    begin
        if(rst)
            dout <= 16'h0000; //set to 0 if reset
        else
        begin
            sign = din[15]; //sign is 16th bit
            if(sign == 1'b1) //take 2s comp if negative to find magnitude
                temp2 <= ~din + 1'b1;
            else 
                temp2 <= din; //if positive
                
            //linear interpolation section------------------------------------------------------------------------------
            left = temp2[14:6];  // 9 most significant bits
            right = left + 1'b1;   // next value, after left, when quantized to 10 
            alpha = temp2[5:0];  // tells me where in the interval the desired value is

            case(left) //arctangent LUT for 512 samples (technically 1024 after sign)
                9'h000 : temp = 16'h0000;
                9'h001 : temp = 16'h01C1;
                9'h002 : temp = 16'h0382;
                9'h003 : temp = 16'h0541;
                9'h004 : temp = 16'h0700;
                9'h005 : temp = 16'h08BD;
                9'h006 : temp = 16'h0A77;
                9'h007 : temp = 16'h0C30;
                9'h008 : temp = 16'h0DE5;
                9'h009 : temp = 16'h0F98;
                9'h00A : temp = 16'h1147;
                9'h00B : temp = 16'h12F2;
                9'h00C : temp = 16'h1499;
                9'h00D : temp = 16'h163C;
                9'h00E : temp = 16'h17DA;
                9'h00F : temp = 16'h1973;
                9'h010 : temp = 16'h1B07;
                9'h011 : temp = 16'h1C96;
                9'h012 : temp = 16'h1E1F;
                9'h013 : temp = 16'h1FA3;
                9'h014 : temp = 16'h2121;
                9'h015 : temp = 16'h2298;
                9'h016 : temp = 16'h240A;
                9'h017 : temp = 16'h2576;
                9'h018 : temp = 16'h26DB;
                9'h019 : temp = 16'h283B;
                9'h01A : temp = 16'h2994;
                9'h01B : temp = 16'h2AE7;
                9'h01C : temp = 16'h2C33;
                9'h01D : temp = 16'h2D79;
                9'h01E : temp = 16'h2EB9;
                9'h01F : temp = 16'h2FF3;
                9'h020 : temp = 16'h3127;
                9'h021 : temp = 16'h3254;
                9'h022 : temp = 16'h337C;
                9'h023 : temp = 16'h349D;
                9'h024 : temp = 16'h35B9;
                9'h025 : temp = 16'h36CE;
                9'h026 : temp = 16'h37DE;
                9'h027 : temp = 16'h38E8;
                9'h028 : temp = 16'h39ED;
                9'h029 : temp = 16'h3AEC;
                9'h02A : temp = 16'h3BE6;
                9'h02B : temp = 16'h3CDA;
                9'h02C : temp = 16'h3DCA;
                9'h02D : temp = 16'h3EB4;
                9'h02E : temp = 16'h3F99;
                9'h02F : temp = 16'h4079;
                9'h030 : temp = 16'h4155;
                9'h031 : temp = 16'h422C;
                9'h032 : temp = 16'h42FE;
                9'h033 : temp = 16'h43CC;
                9'h034 : temp = 16'h4495;
                9'h035 : temp = 16'h455A;
                9'h036 : temp = 16'h461B;
                9'h037 : temp = 16'h46D8;
                9'h038 : temp = 16'h4791;
                9'h039 : temp = 16'h4847;
                9'h03A : temp = 16'h48F8;
                9'h03B : temp = 16'h49A6;
                9'h03C : temp = 16'h4A50;
                9'h03D : temp = 16'h4AF6;
                9'h03E : temp = 16'h4B99;
                9'h03F : temp = 16'h4C39;
                9'h040 : temp = 16'h4CD6;
                9'h041 : temp = 16'h4D6F;
                9'h042 : temp = 16'h4E05;
                9'h043 : temp = 16'h4E99;
                9'h044 : temp = 16'h4F29;
                9'h045 : temp = 16'h4FB6;
                9'h046 : temp = 16'h5041;
                9'h047 : temp = 16'h50C9;
                9'h048 : temp = 16'h514E;
                9'h049 : temp = 16'h51D1;
                9'h04A : temp = 16'h5251;
                9'h04B : temp = 16'h52CF;
                9'h04C : temp = 16'h534A;
                9'h04D : temp = 16'h53C3;
                9'h04E : temp = 16'h543A;
                9'h04F : temp = 16'h54AE;
                9'h050 : temp = 16'h5521;
                9'h051 : temp = 16'h5591;
                9'h052 : temp = 16'h55FF;
                9'h053 : temp = 16'h566B;
                9'h054 : temp = 16'h56D5;
                9'h055 : temp = 16'h573D;
                9'h056 : temp = 16'h57A4;
                9'h057 : temp = 16'h5808;
                9'h058 : temp = 16'h586B;
                9'h059 : temp = 16'h58CC;
                9'h05A : temp = 16'h592B;
                9'h05B : temp = 16'h5989;
                9'h05C : temp = 16'h59E5;
                9'h05D : temp = 16'h5A3F;
                9'h05E : temp = 16'h5A98;
                9'h05F : temp = 16'h5AF0;
                9'h060 : temp = 16'h5B46;
                9'h061 : temp = 16'h5B9A;
                9'h062 : temp = 16'h5BED;
                9'h063 : temp = 16'h5C3F;
                9'h064 : temp = 16'h5C8F;
                9'h065 : temp = 16'h5CDE;
                9'h066 : temp = 16'h5D2C;
                9'h067 : temp = 16'h5D79;
                9'h068 : temp = 16'h5DC4;
                9'h069 : temp = 16'h5E0E;
                9'h06A : temp = 16'h5E57;
                9'h06B : temp = 16'h5E9F;
                9'h06C : temp = 16'h5EE5;
                9'h06D : temp = 16'h5F2B;
                9'h06E : temp = 16'h5F6F;
                9'h06F : temp = 16'h5FB3;
                9'h070 : temp = 16'h5FF5;
                9'h071 : temp = 16'h6037;
                9'h072 : temp = 16'h6077;
                9'h073 : temp = 16'h60B7;
                9'h074 : temp = 16'h60F5;
                9'h075 : temp = 16'h6133;
                9'h076 : temp = 16'h616F;
                9'h077 : temp = 16'h61AB;
                9'h078 : temp = 16'h61E6;
                9'h079 : temp = 16'h6220;
                9'h07A : temp = 16'h625A;
                9'h07B : temp = 16'h6292;
                9'h07C : temp = 16'h62CA;
                9'h07D : temp = 16'h6301;
                9'h07E : temp = 16'h6337;
                9'h07F : temp = 16'h636C;
                9'h080 : temp = 16'h63A1;
                9'h081 : temp = 16'h63D5;
                9'h082 : temp = 16'h6408;
                9'h083 : temp = 16'h643A;
                9'h084 : temp = 16'h646C;
                9'h085 : temp = 16'h649D;
                9'h086 : temp = 16'h64CE;
                9'h087 : temp = 16'h64FE;
                9'h088 : temp = 16'h652D;
                9'h089 : temp = 16'h655B;
                9'h08A : temp = 16'h6589;
                9'h08B : temp = 16'h65B7;
                9'h08C : temp = 16'h65E4;
                9'h08D : temp = 16'h6610;
                9'h08E : temp = 16'h663C;
                9'h08F : temp = 16'h6667;
                9'h090 : temp = 16'h6691;
                9'h091 : temp = 16'h66BB;
                9'h092 : temp = 16'h66E5;
                9'h093 : temp = 16'h670E;
                9'h094 : temp = 16'h6737;
                9'h095 : temp = 16'h675F;
                9'h096 : temp = 16'h6786;
                9'h097 : temp = 16'h67AD;
                9'h098 : temp = 16'h67D4;
                9'h099 : temp = 16'h67FA;
                9'h09A : temp = 16'h6820;
                9'h09B : temp = 16'h6845;
                9'h09C : temp = 16'h686A;
                9'h09D : temp = 16'h688E;
                9'h09E : temp = 16'h68B2;
                9'h09F : temp = 16'h68D5;
                9'h0A0 : temp = 16'h68F9;
                9'h0A1 : temp = 16'h691B;
                9'h0A2 : temp = 16'h693E;
                9'h0A3 : temp = 16'h695F;
                9'h0A4 : temp = 16'h6981;
                9'h0A5 : temp = 16'h69A2;
                9'h0A6 : temp = 16'h69C3;
                9'h0A7 : temp = 16'h69E3;
                9'h0A8 : temp = 16'h6A03;
                9'h0A9 : temp = 16'h6A23;
                9'h0AA : temp = 16'h6A43;
                9'h0AB : temp = 16'h6A62;
                9'h0AC : temp = 16'h6A80;
                9'h0AD : temp = 16'h6A9F;
                9'h0AE : temp = 16'h6ABD;
                9'h0AF : temp = 16'h6ADA;
                9'h0B0 : temp = 16'h6AF8;
                9'h0B1 : temp = 16'h6B15;
                9'h0B2 : temp = 16'h6B32;
                9'h0B3 : temp = 16'h6B4E;
                9'h0B4 : temp = 16'h6B6A;
                9'h0B5 : temp = 16'h6B86;
                9'h0B6 : temp = 16'h6BA2;
                9'h0B7 : temp = 16'h6BBD;
                9'h0B8 : temp = 16'h6BD8;
                9'h0B9 : temp = 16'h6BF3;
                9'h0BA : temp = 16'h6C0E;
                9'h0BB : temp = 16'h6C28;
                9'h0BC : temp = 16'h6C42;
                9'h0BD : temp = 16'h6C5B;
                9'h0BE : temp = 16'h6C75;
                9'h0BF : temp = 16'h6C8E;
                9'h0C0 : temp = 16'h6CA7;
                9'h0C1 : temp = 16'h6CC0;
                9'h0C2 : temp = 16'h6CD8;
                9'h0C3 : temp = 16'h6CF0;
                9'h0C4 : temp = 16'h6D08;
                9'h0C5 : temp = 16'h6D20;
                9'h0C6 : temp = 16'h6D38;
                9'h0C7 : temp = 16'h6D4F;
                9'h0C8 : temp = 16'h6D66;
                9'h0C9 : temp = 16'h6D7D;
                9'h0CA : temp = 16'h6D94;
                9'h0CB : temp = 16'h6DAA;
                9'h0CC : temp = 16'h6DC0;
                9'h0CD : temp = 16'h6DD6;
                9'h0CE : temp = 16'h6DEC;
                9'h0CF : temp = 16'h6E02;
                9'h0D0 : temp = 16'h6E17;
                9'h0D1 : temp = 16'h6E2D;
                9'h0D2 : temp = 16'h6E42;
                9'h0D3 : temp = 16'h6E56;
                9'h0D4 : temp = 16'h6E6B;
                9'h0D5 : temp = 16'h6E80;
                9'h0D6 : temp = 16'h6E94;
                9'h0D7 : temp = 16'h6EA8;
                9'h0D8 : temp = 16'h6EBC;
                9'h0D9 : temp = 16'h6ED0;
                9'h0DA : temp = 16'h6EE3;
                9'h0DB : temp = 16'h6EF7;
                9'h0DC : temp = 16'h6F0A;
                9'h0DD : temp = 16'h6F1D;
                9'h0DE : temp = 16'h6F30;
                9'h0DF : temp = 16'h6F43;
                9'h0E0 : temp = 16'h6F55;
                9'h0E1 : temp = 16'h6F68;
                9'h0E2 : temp = 16'h6F7A;
                9'h0E3 : temp = 16'h6F8C;
                9'h0E4 : temp = 16'h6F9E;
                9'h0E5 : temp = 16'h6FB0;
                9'h0E6 : temp = 16'h6FC2;
                9'h0E7 : temp = 16'h6FD3;
                9'h0E8 : temp = 16'h6FE5;
                9'h0E9 : temp = 16'h6FF6;
                9'h0EA : temp = 16'h7007;
                9'h0EB : temp = 16'h7018;
                9'h0EC : temp = 16'h7029;
                9'h0ED : temp = 16'h7039;
                9'h0EE : temp = 16'h704A;
                9'h0EF : temp = 16'h705A;
                9'h0F0 : temp = 16'h706B;
                9'h0F1 : temp = 16'h707B;
                9'h0F2 : temp = 16'h708B;
                9'h0F3 : temp = 16'h709B;
                9'h0F4 : temp = 16'h70AA;
                9'h0F5 : temp = 16'h70BA;
                9'h0F6 : temp = 16'h70CA;
                9'h0F7 : temp = 16'h70D9;
                9'h0F8 : temp = 16'h70E8;
                9'h0F9 : temp = 16'h70F7;
                9'h0FA : temp = 16'h7107;
                9'h0FB : temp = 16'h7115;
                9'h0FC : temp = 16'h7124;
                9'h0FD : temp = 16'h7133;
                9'h0FE : temp = 16'h7142;
                9'h0FF : temp = 16'h7150;
                9'h100 : temp = 16'h715E;
                9'h101 : temp = 16'h716D;
                9'h102 : temp = 16'h717B;
                9'h103 : temp = 16'h7189;
                9'h104 : temp = 16'h7197;
                9'h105 : temp = 16'h71A5;
                9'h106 : temp = 16'h71B2;
                9'h107 : temp = 16'h71C0;
                9'h108 : temp = 16'h71CE;
                9'h109 : temp = 16'h71DB;
                9'h10A : temp = 16'h71E8;
                9'h10B : temp = 16'h71F6;
                9'h10C : temp = 16'h7203;
                9'h10D : temp = 16'h7210;
                9'h10E : temp = 16'h721D;
                9'h10F : temp = 16'h722A;
                9'h110 : temp = 16'h7236;
                9'h111 : temp = 16'h7243;
                9'h112 : temp = 16'h7250;
                9'h113 : temp = 16'h725C;
                9'h114 : temp = 16'h7269;
                9'h115 : temp = 16'h7275;
                9'h116 : temp = 16'h7281;
                9'h117 : temp = 16'h728D;
                9'h118 : temp = 16'h7299;
                9'h119 : temp = 16'h72A5;
                9'h11A : temp = 16'h72B1;
                9'h11B : temp = 16'h72BD;
                9'h11C : temp = 16'h72C9;
                9'h11D : temp = 16'h72D4;
                9'h11E : temp = 16'h72E0;
                9'h11F : temp = 16'h72EC;
                9'h120 : temp = 16'h72F7;
                9'h121 : temp = 16'h7302;
                9'h122 : temp = 16'h730E;
                9'h123 : temp = 16'h7319;
                9'h124 : temp = 16'h7324;
                9'h125 : temp = 16'h732F;
                9'h126 : temp = 16'h733A;
                9'h127 : temp = 16'h7345;
                9'h128 : temp = 16'h7350;
                9'h129 : temp = 16'h735A;
                9'h12A : temp = 16'h7365;
                9'h12B : temp = 16'h7370;
                9'h12C : temp = 16'h737A;
                9'h12D : temp = 16'h7385;
                9'h12E : temp = 16'h738F;
                9'h12F : temp = 16'h739A;
                9'h130 : temp = 16'h73A4;
                9'h131 : temp = 16'h73AE;
                9'h132 : temp = 16'h73B8;
                9'h133 : temp = 16'h73C2;
                9'h134 : temp = 16'h73CC;
                9'h135 : temp = 16'h73D6;
                9'h136 : temp = 16'h73E0;
                9'h137 : temp = 16'h73EA;
                9'h138 : temp = 16'h73F4;
                9'h139 : temp = 16'h73FD;
                9'h13A : temp = 16'h7407;
                9'h13B : temp = 16'h7411;
                9'h13C : temp = 16'h741A;
                9'h13D : temp = 16'h7424;
                9'h13E : temp = 16'h742D;
                9'h13F : temp = 16'h7436;
                9'h140 : temp = 16'h7440;
                9'h141 : temp = 16'h7449;
                9'h142 : temp = 16'h7452;
                9'h143 : temp = 16'h745B;
                9'h144 : temp = 16'h7464;
                9'h145 : temp = 16'h746D;
                9'h146 : temp = 16'h7476;
                9'h147 : temp = 16'h747F;
                9'h148 : temp = 16'h7488;
                9'h149 : temp = 16'h7491;
                9'h14A : temp = 16'h749A;
                9'h14B : temp = 16'h74A2;
                9'h14C : temp = 16'h74AB;
                9'h14D : temp = 16'h74B4;
                9'h14E : temp = 16'h74BC;
                9'h14F : temp = 16'h74C5;
                9'h150 : temp = 16'h74CD;
                9'h151 : temp = 16'h74D5;
                9'h152 : temp = 16'h74DE;
                9'h153 : temp = 16'h74E6;
                9'h154 : temp = 16'h74EE;
                9'h155 : temp = 16'h74F7;
                9'h156 : temp = 16'h74FF;
                9'h157 : temp = 16'h7507;
                9'h158 : temp = 16'h750F;
                9'h159 : temp = 16'h7517;
                9'h15A : temp = 16'h751F;
                9'h15B : temp = 16'h7527;
                9'h15C : temp = 16'h752F;
                9'h15D : temp = 16'h7537;
                9'h15E : temp = 16'h753E;
                9'h15F : temp = 16'h7546;
                9'h160 : temp = 16'h754E;
                9'h161 : temp = 16'h7556;
                9'h162 : temp = 16'h755D;
                9'h163 : temp = 16'h7565;
                9'h164 : temp = 16'h756C;
                9'h165 : temp = 16'h7574;
                9'h166 : temp = 16'h757B;
                9'h167 : temp = 16'h7583;
                9'h168 : temp = 16'h758A;
                9'h169 : temp = 16'h7591;
                9'h16A : temp = 16'h7599;
                9'h16B : temp = 16'h75A0;
                9'h16C : temp = 16'h75A7;
                9'h16D : temp = 16'h75AE;
                9'h16E : temp = 16'h75B5;
                9'h16F : temp = 16'h75BD;
                9'h170 : temp = 16'h75C4;
                9'h171 : temp = 16'h75CB;
                9'h172 : temp = 16'h75D2;
                9'h173 : temp = 16'h75D9;
                9'h174 : temp = 16'h75DF;
                9'h175 : temp = 16'h75E6;
                9'h176 : temp = 16'h75ED;
                9'h177 : temp = 16'h75F4;
                9'h178 : temp = 16'h75FB;
                9'h179 : temp = 16'h7601;
                9'h17A : temp = 16'h7608;
                9'h17B : temp = 16'h760F;
                9'h17C : temp = 16'h7615;
                9'h17D : temp = 16'h761C;
                9'h17E : temp = 16'h7623;
                9'h17F : temp = 16'h7629;
                9'h180 : temp = 16'h7630;
                9'h181 : temp = 16'h7636;
                9'h182 : temp = 16'h763D;
                9'h183 : temp = 16'h7643;
                9'h184 : temp = 16'h7649;
                9'h185 : temp = 16'h7650;
                9'h186 : temp = 16'h7656;
                9'h187 : temp = 16'h765C;
                9'h188 : temp = 16'h7662;
                9'h189 : temp = 16'h7669;
                9'h18A : temp = 16'h766F;
                9'h18B : temp = 16'h7675;
                9'h18C : temp = 16'h767B;
                9'h18D : temp = 16'h7681;
                9'h18E : temp = 16'h7687;
                9'h18F : temp = 16'h768D;
                9'h190 : temp = 16'h7693;
                9'h191 : temp = 16'h7699;
                9'h192 : temp = 16'h769F;
                9'h193 : temp = 16'h76A5;
                9'h194 : temp = 16'h76AB;
                9'h195 : temp = 16'h76B1;
                9'h196 : temp = 16'h76B7;
                9'h197 : temp = 16'h76BC;
                9'h198 : temp = 16'h76C2;
                9'h199 : temp = 16'h76C8;
                9'h19A : temp = 16'h76CE;
                9'h19B : temp = 16'h76D3;
                9'h19C : temp = 16'h76D9;
                9'h19D : temp = 16'h76DE;
                9'h19E : temp = 16'h76E4;
                9'h19F : temp = 16'h76EA;
                9'h1A0 : temp = 16'h76EF;
                9'h1A1 : temp = 16'h76F5;
                9'h1A2 : temp = 16'h76FA;
                9'h1A3 : temp = 16'h7700;
                9'h1A4 : temp = 16'h7705;
                9'h1A5 : temp = 16'h770A;
                9'h1A6 : temp = 16'h7710;
                9'h1A7 : temp = 16'h7715;
                9'h1A8 : temp = 16'h771B;
                9'h1A9 : temp = 16'h7720;
                9'h1AA : temp = 16'h7725;
                9'h1AB : temp = 16'h772A;
                9'h1AC : temp = 16'h7730;
                9'h1AD : temp = 16'h7735;
                9'h1AE : temp = 16'h773A;
                9'h1AF : temp = 16'h773F;
                9'h1B0 : temp = 16'h7744;
                9'h1B1 : temp = 16'h774A;
                9'h1B2 : temp = 16'h774F;
                9'h1B3 : temp = 16'h7754;
                9'h1B4 : temp = 16'h7759;
                9'h1B5 : temp = 16'h775E;
                9'h1B6 : temp = 16'h7763;
                9'h1B7 : temp = 16'h7768;
                9'h1B8 : temp = 16'h776D;
                9'h1B9 : temp = 16'h7772;
                9'h1BA : temp = 16'h7777;
                9'h1BB : temp = 16'h777B;
                9'h1BC : temp = 16'h7780;
                9'h1BD : temp = 16'h7785;
                9'h1BE : temp = 16'h778A;
                9'h1BF : temp = 16'h778F;
                9'h1C0 : temp = 16'h7794;
                9'h1C1 : temp = 16'h7798;
                9'h1C2 : temp = 16'h779D;
                9'h1C3 : temp = 16'h77A2;
                9'h1C4 : temp = 16'h77A7;
                9'h1C5 : temp = 16'h77AB;
                9'h1C6 : temp = 16'h77B0;
                9'h1C7 : temp = 16'h77B5;
                9'h1C8 : temp = 16'h77B9;
                9'h1C9 : temp = 16'h77BE;
                9'h1CA : temp = 16'h77C2;
                9'h1CB : temp = 16'h77C7;
                9'h1CC : temp = 16'h77CB;
                9'h1CD : temp = 16'h77D0;
                9'h1CE : temp = 16'h77D5;
                9'h1CF : temp = 16'h77D9;
                9'h1D0 : temp = 16'h77DD;
                9'h1D1 : temp = 16'h77E2;
                9'h1D2 : temp = 16'h77E6;
                9'h1D3 : temp = 16'h77EB;
                9'h1D4 : temp = 16'h77EF;
                9'h1D5 : temp = 16'h77F4;
                9'h1D6 : temp = 16'h77F8;
                9'h1D7 : temp = 16'h77FC;
                9'h1D8 : temp = 16'h7801;
                9'h1D9 : temp = 16'h7805;
                9'h1DA : temp = 16'h7809;
                9'h1DB : temp = 16'h780D;
                9'h1DC : temp = 16'h7812;
                9'h1DD : temp = 16'h7816;
                9'h1DE : temp = 16'h781A;
                9'h1DF : temp = 16'h781E;
                9'h1E0 : temp = 16'h7822;
                9'h1E1 : temp = 16'h7827;
                9'h1E2 : temp = 16'h782B;
                9'h1E3 : temp = 16'h782F;
                9'h1E4 : temp = 16'h7833;
                9'h1E5 : temp = 16'h7837;
                9'h1E6 : temp = 16'h783B;
                9'h1E7 : temp = 16'h783F;
                9'h1E8 : temp = 16'h7843;
                9'h1E9 : temp = 16'h7847;
                9'h1EA : temp = 16'h784B;
                9'h1EB : temp = 16'h784F;
                9'h1EC : temp = 16'h7853;
                9'h1ED : temp = 16'h7857;
                9'h1EE : temp = 16'h785B;
                9'h1EF : temp = 16'h785F;
                9'h1F0 : temp = 16'h7863;
                9'h1F1 : temp = 16'h7867;
                9'h1F2 : temp = 16'h786B;
                9'h1F3 : temp = 16'h786F;
                9'h1F4 : temp = 16'h7872;
                9'h1F5 : temp = 16'h7876;
                9'h1F6 : temp = 16'h787A;
                9'h1F7 : temp = 16'h787E;
                9'h1F8 : temp = 16'h7882;
                9'h1F9 : temp = 16'h7885;
                9'h1FA : temp = 16'h7889;
                9'h1FB : temp = 16'h788D;
                9'h1FC : temp = 16'h7891;
                9'h1FD : temp = 16'h7894;
                9'h1FE : temp = 16'h7898;
                9'h1FF : temp = 16'h789C;    
            endcase
                
                post_case <= temp;
            
                if(sign == 1'b1) //take 2s comp if negative
                    temp3 <= ~post_case + 1'b1;
                else 
                    temp3 <= post_case;
            
        end
        dout <= temp3[15:0]; //output data
    end
 
endmodule

//////////////////////////////////////////////////////////
//reg [15:0] x_in;

//reg [9:0] left;
//reg [9:0] right;
//reg [3:0] alpha;

//always @(*)
//left = x_in[15:6];  // 10 most significant bits
//right = left + 1;   // next value, after left, when quantized to 10 bits

//alpha = x_in[5:0];  // tells me where in the interval the desired value is

//y_out = (alpha * right + (64-alpha) * left)/64;
